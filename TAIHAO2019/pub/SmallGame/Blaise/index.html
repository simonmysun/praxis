<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>18 --> 19</title>
    <link href="./../../assets/style.css" rel="stylesheet">
  </head>
  <body>
    <pre style='color:#000000;background:#ffffff;'><span style='color:#800000; font-weight:bold; '>program</span> HelloWorld<span style='color:#800080; '>;</span>
<span style='color:#800000; font-weight:bold; '>var</span>
   i<span style='color:#808030; '>,</span> c<span style='color:#808030; '>,</span> k  <span style='color:#808030; '>:</span> <span style='color:#bb7977; '>integer</span><span style='color:#800080; '>;</span>
   sum      <span style='color:#808030; '>:</span> <span style='color:#bb7977; '>shortint</span><span style='color:#800080; '>;</span>
   s        <span style='color:#808030; '>:</span> <span style='color:#800000; font-weight:bold; '>array</span> <span style='color:#808030; '>[</span><span style='color:#008c00; '>0</span><span style='color:#808030; '>..</span><span style='color:#008c00; '>1023</span><span style='color:#808030; '>]</span> <span style='color:#800000; font-weight:bold; '>of</span> <span style='color:#bb7977; '>char</span><span style='color:#800080; '>;</span>
   password <span style='color:#808030; '>:</span> <span style='color:#800000; font-weight:bold; '>array</span> <span style='color:#808030; '>[</span><span style='color:#008c00; '>0</span><span style='color:#808030; '>..</span><span style='color:#008c00; '>1023</span><span style='color:#808030; '>]</span> <span style='color:#800000; font-weight:bold; '>of</span> <span style='color:#bb7977; '>char</span><span style='color:#800080; '>;</span>
   stack    <span style='color:#808030; '>:</span> <span style='color:#800000; font-weight:bold; '>array</span> <span style='color:#808030; '>[</span><span style='color:#008c00; '>0</span><span style='color:#808030; '>..</span><span style='color:#008c00; '>1023</span><span style='color:#808030; '>]</span> <span style='color:#800000; font-weight:bold; '>of</span> <span style='color:#bb7977; '>integer</span><span style='color:#800080; '>;</span>

<span style='color:#800000; font-weight:bold; '>procedure</span> stack_push<span style='color:#808030; '>(</span>element <span style='color:#808030; '>:</span> <span style='color:#bb7977; '>integer</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
<span style='color:#800000; font-weight:bold; '>begin</span>
   inc<span style='color:#808030; '>(</span>stack<span style='color:#808030; '>[</span><span style='color:#008c00; '>0</span><span style='color:#808030; '>]</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
   stack<span style='color:#808030; '>[</span>stack<span style='color:#808030; '>[</span><span style='color:#008c00; '>0</span><span style='color:#808030; '>]</span><span style='color:#808030; '>]</span> <span style='color:#808030; '>:</span><span style='color:#808030; '>=</span> element<span style='color:#800080; '>;</span>
<span style='color:#800000; font-weight:bold; '>end</span><span style='color:#800080; '>;</span>

<span style='color:#800000; font-weight:bold; '>function</span> stack_pop <span style='color:#808030; '>:</span> <span style='color:#bb7977; '>integer</span><span style='color:#800080; '>;</span>
<span style='color:#800000; font-weight:bold; '>begin</span>
   <span style='color:#800000; font-weight:bold; '>if</span> <span style='color:#808030; '>(</span>stack<span style='color:#808030; '>[</span><span style='color:#008c00; '>0</span><span style='color:#808030; '>]</span> <span style='color:#808030; '>></span> <span style='color:#008c00; '>0</span><span style='color:#808030; '>)</span> <span style='color:#800000; font-weight:bold; '>then</span>
   <span style='color:#800000; font-weight:bold; '>begin</span>
      stack_pop <span style='color:#808030; '>:</span><span style='color:#808030; '>=</span> stack<span style='color:#808030; '>[</span>stack<span style='color:#808030; '>[</span><span style='color:#008c00; '>0</span><span style='color:#808030; '>]</span><span style='color:#808030; '>]</span><span style='color:#800080; '>;</span>
      dec<span style='color:#808030; '>(</span>stack<span style='color:#808030; '>[</span><span style='color:#008c00; '>0</span><span style='color:#808030; '>]</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
   <span style='color:#800000; font-weight:bold; '>end</span>
   <span style='color:#800000; font-weight:bold; '>else</span>
   <span style='color:#800000; font-weight:bold; '>begin</span>
      stack_pop <span style='color:#808030; '>:</span><span style='color:#808030; '>=</span> <span style='color:#008c00; '>0</span><span style='color:#800080; '>;</span>
   <span style='color:#800000; font-weight:bold; '>end</span><span style='color:#800080; '>;</span>
<span style='color:#800000; font-weight:bold; '>end</span><span style='color:#800080; '>;</span>

<span style='color:#800000; font-weight:bold; '>procedure</span> stack_clear<span style='color:#800080; '>;</span>
<span style='color:#800000; font-weight:bold; '>begin</span>
   stack<span style='color:#808030; '>[</span><span style='color:#008c00; '>0</span><span style='color:#808030; '>]</span> <span style='color:#808030; '>:</span><span style='color:#808030; '>=</span> <span style='color:#008c00; '>0</span><span style='color:#800080; '>;</span>
<span style='color:#800000; font-weight:bold; '>end</span><span style='color:#800080; '>;</span>

<span style='color:#800000; font-weight:bold; '>procedure</span> print_password<span style='color:#800080; '>;</span>
<span style='color:#800000; font-weight:bold; '>const</span>
   <span style='color:#bb7977; '>text</span>     <span style='color:#808030; '>:</span> <span style='color:#800000; font-weight:bold; '>array</span> <span style='color:#808030; '>[</span><span style='color:#008c00; '>0</span><span style='color:#808030; '>..</span><span style='color:#008c00; '>51</span><span style='color:#808030; '>]</span> <span style='color:#800000; font-weight:bold; '>of</span> <span style='color:#bb7977; '>integer</span> <span style='color:#808030; '>=</span> <span style='color:#808030; '>(</span><span style='color:#008c00; '>64</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>18</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>61</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>8</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>62</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>22</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>46</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>36</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>36</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>43</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>20</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>12</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>12</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>54</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>5</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>80</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>44</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>40</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>15</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>17</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>3</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>75</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>43</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>36</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>31</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>53</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>23</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>9</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>30</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>36</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>43</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>22</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>29</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>38</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>20</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>55</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>27</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>60</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>25</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>40</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>81</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>1</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>24</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>44</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>72</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>11</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>5</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>28</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>28</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>5</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>23</span><span style='color:#808030; '>,</span> <span style='color:#008c00; '>10</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
<span style='color:#800000; font-weight:bold; '>var</span>
   i        <span style='color:#808030; '>:</span> <span style='color:#bb7977; '>integer</span><span style='color:#800080; '>;</span>
   tmp      <span style='color:#808030; '>:</span> <span style='color:#bb7977; '>integer</span><span style='color:#800080; '>;</span>
   c        <span style='color:#808030; '>:</span> <span style='color:#bb7977; '>char</span><span style='color:#800080; '>;</span>
<span style='color:#800000; font-weight:bold; '>begin</span>
   i <span style='color:#808030; '>:</span><span style='color:#808030; '>=</span> <span style='color:#008c00; '>0</span><span style='color:#800080; '>;</span>
   <span style='color:#800000; font-weight:bold; '>while</span> <span style='color:#808030; '>(</span>i <span style='color:#808030; '>&lt;</span> <span style='color:#008c00; '>52</span><span style='color:#808030; '>)</span> <span style='color:#800000; font-weight:bold; '>do</span>
   <span style='color:#800000; font-weight:bold; '>begin</span>
      tmp <span style='color:#808030; '>:</span><span style='color:#808030; '>=</span> <span style='color:#008c00; '>0</span><span style='color:#800080; '>;</span>
      tmp <span style='color:#808030; '>+</span><span style='color:#808030; '>=</span> <span style='color:#bb7977; '>text</span><span style='color:#808030; '>[</span>i<span style='color:#808030; '>]</span><span style='color:#800080; '>;</span>
      inc<span style='color:#808030; '>(</span>i<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
      tmp <span style='color:#808030; '>+</span><span style='color:#808030; '>=</span> <span style='color:#bb7977; '>text</span><span style='color:#808030; '>[</span>i<span style='color:#808030; '>]</span><span style='color:#800080; '>;</span>
      inc<span style='color:#808030; '>(</span>i<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
      write<span style='color:#808030; '>(</span>chr<span style='color:#808030; '>(</span>tmp<span style='color:#808030; '>)</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
   <span style='color:#800000; font-weight:bold; '>end</span><span style='color:#800080; '>;</span>
   writeln<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
   writeln<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
<span style='color:#800000; font-weight:bold; '>end</span><span style='color:#800080; '>;</span>

<span style='color:#800000; font-weight:bold; '>procedure</span> wrong_password<span style='color:#800080; '>;</span>
<span style='color:#800000; font-weight:bold; '>begin</span>
   writeln<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
   writeln<span style='color:#808030; '>(</span><span style='color:#0000e6; '>'Wrong Password'</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
   writeln<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
   halt<span style='color:#800080; '>;</span>
<span style='color:#800000; font-weight:bold; '>end</span><span style='color:#800080; '>;</span>

<span style='color:#800000; font-weight:bold; '>begin</span>
   writeln<span style='color:#808030; '>(</span><span style='color:#0000e6; '>'What is the password? '</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
   readln<span style='color:#808030; '>(</span>password<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
   sum <span style='color:#808030; '>:</span><span style='color:#808030; '>=</span> <span style='color:#008c00; '>0</span><span style='color:#800080; '>;</span>
   k <span style='color:#808030; '>:</span><span style='color:#808030; '>=</span> <span style='color:#008c00; '>0</span><span style='color:#800080; '>;</span>
   stack_clear<span style='color:#800080; '>;</span>
   <span style='color:#800000; font-weight:bold; '>for</span> i <span style='color:#808030; '>:</span><span style='color:#808030; '>=</span> <span style='color:#008c00; '>0</span> <span style='color:#800000; font-weight:bold; '>to</span> <span style='color:#008c00; '>25</span> <span style='color:#800000; font-weight:bold; '>do</span>
   <span style='color:#800000; font-weight:bold; '>begin</span>
      c <span style='color:#808030; '>:</span><span style='color:#808030; '>=</span> ord<span style='color:#808030; '>(</span>password<span style='color:#808030; '>[</span>i<span style='color:#808030; '>]</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
      sum <span style='color:#808030; '>+</span><span style='color:#808030; '>=</span> c<span style='color:#800080; '>;</span>
      <span style='color:#800000; font-weight:bold; '>if</span> <span style='color:#808030; '>(</span>c <span style='color:#800000; font-weight:bold; '>mod</span> <span style='color:#008c00; '>2</span> <span style='color:#808030; '>=</span> <span style='color:#008c00; '>1</span><span style='color:#808030; '>)</span> <span style='color:#800000; font-weight:bold; '>then</span>
         <span style='color:#800000; font-weight:bold; '>begin</span>
            k <span style='color:#808030; '>:</span><span style='color:#808030; '>=</span> k <span style='color:#800000; font-weight:bold; '>xor</span> stack_pop<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
         <span style='color:#800000; font-weight:bold; '>end</span>
      <span style='color:#800000; font-weight:bold; '>else</span>
         stack_push<span style='color:#808030; '>(</span>sum<span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
   <span style='color:#800000; font-weight:bold; '>end</span><span style='color:#800080; '>;</span>
   writeln<span style='color:#808030; '>(</span><span style='color:#808030; '>)</span><span style='color:#800080; '>;</span>
   <span style='color:#800000; font-weight:bold; '>if</span> <span style='color:#808030; '>(</span>stack<span style='color:#808030; '>[</span><span style='color:#008c00; '>0</span><span style='color:#808030; '>]</span> <span style='color:#808030; '>=</span> <span style='color:#008c00; '>0</span><span style='color:#808030; '>)</span> <span style='color:#800000; font-weight:bold; '>then</span>
      <span style='color:#800000; font-weight:bold; '>if</span><span style='color:#808030; '>(</span>k <span style='color:#808030; '>=</span> <span style='color:#008c00; '>77</span><span style='color:#808030; '>)</span> <span style='color:#800000; font-weight:bold; '>then</span>
         print_password
      <span style='color:#800000; font-weight:bold; '>else</span>
         wrong_password
   <span style='color:#800000; font-weight:bold; '>else</span>
      wrong_password<span style='color:#800080; '>;</span>
<span style='color:#800000; font-weight:bold; '>end</span><span style='color:#808030; '>.</span>
</pre>
    <p>What is the password? </p>
    <form onsubmit="return validate()">
      <input id="ans" type="text"><input type="submit">
    </form>
    <hr>
    <a href="./../../about.md">About</a> (Spoilers! )
    <script src="./../../assets/md5.js"></script>
    <script>
      window.currentLevel = 13;
      function validate() {
          var ans = document.getElementById('ans').value;
          if(md5(ans + '\n') === 'd1dacfa25e153c0eaa1161d89eee3b9b') {
              alert('Success. ');
              goToNextLevel(ans);
          } else {
              alert('Wrong password. ');
          }
          return false;
      }
      function goToNextLevel(password) {
          var msg = atob('HBY=');
          var key = password.split('').map(x => x.charCodeAt(0));
          var res = [];
          for(var i = 0; i < msg.length; i += 1) {
              res.push(msg.charCodeAt(i) ^ key[i % key.length]);
          }
          window.location.href = './../' + (res.map(x => String.fromCharCode(x)).join('')) + '/';
      }
    </script>
    <script src="./../../assets/script.js"></script>
    <script type="text/javascript" async
            src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
  </body>
</html>
